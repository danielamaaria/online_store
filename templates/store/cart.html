{% extends "store/base.html" %}

{% block content %}
    {% if cart.total > 0 %}
        <div class="row mt-2">
            <div class="col">
                <h1 class="display-5 mb-2">Total: ${{ cart.total }}</h1>
            </div>
            <button class="btn btn-success h-50 my-auto">To Checkout
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-forward"
                     viewBox="0 0 16 16">
                    <path d="M9.502 5.513a.144.144 0 0 0-.202.134V6.65a.5.5 0 0 1-.5.5H2.5v2.9h6.3a.5.5 0 0 1 .5.5v1.003c0 .108.11.176.202.134l3.984-2.933a.51.51 0 0 1 .042-.028.147.147 0 0 0 0-.252.51.51 0 0 1-.042-.028L9.502 5.513zM8.3 5.647a1.144 1.144 0 0 1 1.767-.96l3.994 2.94a1.147 1.147 0 0 1 0 1.946l-3.994 2.94a1.144 1.144 0 0 1-1.767-.96v-.503H2a.5.5 0 0 1-.5-.5v-3.9a.5.5 0 0 1 .5-.5h6.3v-.503z"/>
                </svg>
            </button>
        </div>
    {% endif %}

    {% for book_order in cart.book_orders.all %}
        <div class="row bg-white my-3 py-2">
            <div class="col">
                <a href="{% url 'store:details' book_order.book.id %}">
                    <img class="zoom-image m-2" src="{{ book_order.book.url }}"
                         alt="Card image cap" title={{ book_order.book.title }}>
                </a>
            </div>
            <div class="col">
                <p><span style="font-weight: bold">Title:</span> {{ book_order.book }}</p>
                <p><span style="font-weight: bold">Author:</span> {{ book_order.book.author }}</p>
                <p><span style="font-weight: bold">Quantity:</span> {{ book_order.quantity }}</p>
                <p><span style="font-weight: bold">Cost:</span> ${{ book_order.price }}</p>

                <form action="{% url 'store:delete_book_order' book_order.id %}" class="form" method="post">
                    {% csrf_token %}

                    <button type="submit" class="btn btn-danger">Remove
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                             class="bi bi-x-circle" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                        </svg>
                    </button>
                </form>
            </div>
        </div>
    {% empty %}
        <p>Nothing added to cart...</p>
    {% endfor %}
    <div class="mb-3"></div>
{% endblock content %}